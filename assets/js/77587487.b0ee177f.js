"use strict";(self.webpackChunklithium_docs=self.webpackChunklithium_docs||[]).push([[299],{4233:function(t,e,a){a.r(e),a.d(e,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return u},toc:function(){return m},default:function(){return s}});var n=a(2122),r=a(9756),l=(a(7294),a(3905)),o=["components"],i={title:"Reference",sidebar_position:4},p=void 0,u={unversionedId:"reference",id:"reference",isDocsHomePage:!1,title:"Reference",description:"This is the reference document for Lithium. It outlines everything that Lithium has to offer.",source:"@site/docs/reference.md",sourceDirName:".",slug:"/reference",permalink:"/docs/reference",editUrl:"https://github.com/ranjithrd/lithium/edit/gh-pages/docs/docs/reference.md",version:"current",sidebarPosition:4,frontMatter:{title:"Reference",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Using Lithium",permalink:"/docs/using"}},m=[{value:"Importing Lithium",id:"importing-lithium",children:[]},{value:"setConfig",id:"setconfig",children:[]},{value:"command",id:"command",children:[]},{value:"export and import",id:"export-and-import",children:[]},{value:"ask, LithiumInput",id:"ask-lithiuminput",children:[]},{value:"start",id:"start",children:[]},{value:"execute",id:"execute",children:[]},{value:"colour, box, spinner",id:"colour-box-spinner",children:[]},{value:"logWithColour, errorWithColour",id:"logwithcolour-errorwithcolour",children:[]}],d={toc:m};function s(t){var e=t.components,a=(0,r.Z)(t,o);return(0,l.kt)("wrapper",(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"This is the reference document for Lithium. It outlines everything that Lithium has to offer."),(0,l.kt)("p",null,"While Lithium provides auto-complete in VS-Code through JS-Doc, this is just easier to find sections and functions."),(0,l.kt)("h3",{id:"importing-lithium"},"Importing Lithium"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const lithium = require("lithium-cli")\nconst app = lithium()\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"setConfig"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that allows you to set the configuration object.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"command"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that allows you to add a command to your CLI")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"export"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that exports your commands. Use with import")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"import"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that can import commands. Use with export")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ask"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that exposes an API to ask the user a question")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"start"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that allows you to start your CLI")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"execute"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that allows you to run a bash command")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spinner"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that expores ",(0,l.kt)("a",{parentName:"td",href:"https://npmjs.com/package/ora"},"ora"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"colour"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that exposes ",(0,l.kt)("a",{parentName:"td",href:"https://npmjs.com/package/chalk"},"chalk"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"box"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that exposes ",(0,l.kt)("a",{parentName:"td",href:"https://npmjs.com/package/boxen"},"boxen"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"logWithColour"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that allows you to log a value with colour. Use with execute")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"errorWithColour"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that allows you to log a value with console.error and colour. Use with execute")))),(0,l.kt)("h3",{id:"setconfig"},"setConfig"),(0,l.kt)("p",null,"Allows you to modify the configuration object. Here's how the configuration object is shaped:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"A synchronous function called ",(0,l.kt)("strong",{parentName:"td"},"before")," every command is executed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"footer"),(0,l.kt)("td",{parentName:"tr",align:null},"A synchronous function called ",(0,l.kt)("strong",{parentName:"td"},"after")," every command is executed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onHelp"),(0,l.kt)("td",{parentName:"tr",align:null},"A function called when ",(0,l.kt)("inlineCode",{parentName:"td"},"your_cli help")," is run")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onCommandNotFound"),(0,l.kt)("td",{parentName:"tr",align:null},"A function called when a command that is not found is run")))),(0,l.kt)("p",null,"Please note that passing in any of these parameters ",(0,l.kt)("strong",{parentName:"p"},"only")," overrides the parameter that you have passed."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"You can also use this to store some metadata about your application.")),(0,l.kt)("h3",{id:"command"},"command"),(0,l.kt)("p",null,"The command function allows you to enter a command. It takes these parameters: (",(0,l.kt)("strong",{parentName:"p"},"note that these parameters are positional"),")"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"The name of the command, for example, ",(0,l.kt)("inlineCode",{parentName:"td"},"npm i")," would be ",(0,l.kt)("inlineCode",{parentName:"td"},"i"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"action"),(0,l.kt)("td",{parentName:"tr",align:null},"The function to be run when the name is matched. Refer to the below table")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"inputs"),(0,l.kt)("td",{parentName:"tr",align:null},"A list of inputs (see ",(0,l.kt)("inlineCode",{parentName:"td"},"LithiumInput"),") that you can use to get user parameters")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"A simple string describing your command. This is used in the help function")))),(0,l.kt)("p",null,"The action that you have to provide will have to take these parameters: (the callback you provide can be asynchronous)"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"args"),(0,l.kt)("td",{parentName:"tr",align:null},"Contains the values that the user has provided your command. Refer the below note")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"os"),(0,l.kt)("td",{parentName:"tr",align:null},"The operating system. Possible values: ",(0,l.kt)("inlineCode",{parentName:"td"},"macos"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"windows"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"linux"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"unknown"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"currentWorkingDirectory"),(0,l.kt)("td",{parentName:"tr",align:null},"Current directory right from the command line")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note about args")," This object gets you an object. This depends heavily on the input that the user has provided. There are a couple shapes it could be in: boolean, string, or root. Boolean is quite simple. If the user says something like ",(0,l.kt)("inlineCode",{parentName:"p"},"cli deploy --cloud"),", the args would have a property called ",(0,l.kt)("inlineCode",{parentName:"p"},"cloud")," which is ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),". If the user says ",(0,l.kt)("inlineCode",{parentName:"p"},"cli deploy --cloud aws"),", you'd have a property ",(0,l.kt)("inlineCode",{parentName:"p"},"cloud")," saying ",(0,l.kt)("inlineCode",{parentName:"p"},"aws"),". If the user says ",(0,l.kt)("inlineCode",{parentName:"p"},"cli deploy ."),", you'd get ",(0,l.kt)("inlineCode",{parentName:"p"},"root")," as ",(0,l.kt)("inlineCode",{parentName:"p"},".")),(0,l.kt)("h3",{id:"export-and-import"},"export and import"),(0,l.kt)("p",null,"These are quite simple. They are designed to be used with each other."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// In subfolder file\nmodule.exports = app.export()\n\n// In parent file\napp.import(require("your_subfolder_file.js"))\n')),(0,l.kt)("h3",{id:"ask-lithiuminput"},"ask, LithiumInput"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"question"),(0,l.kt)("td",{parentName:"tr",align:null},"A string, this has to be asked to the user")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"type"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"boolean"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"number"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"password"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"choices"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options"),(0,l.kt)("td",{parentName:"tr",align:null},"Specify this in the format of ",(0,l.kt)("inlineCode",{parentName:"td"},"LithiumInputChoice")," (see below) ",(0,l.kt)("strong",{parentName:"td"},"only if you chose ",(0,l.kt)("inlineCode",{parentName:"strong"},"choices")," in type"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"LithiumInputChoice")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"The display name of this option")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"value"),(0,l.kt)("td",{parentName:"tr",align:null},"The program value for this option")))),(0,l.kt)("h3",{id:"start"},"start"),(0,l.kt)("p",null,"There's no parameters or return value. Just make sure that this is run only once and in the entry point file."),(0,l.kt)("h3",{id:"execute"},"execute"),(0,l.kt)("p",null,"This is an ",(0,l.kt)("strong",{parentName:"p"},"asynchronous")," function to execute shell command. Note that ",(0,l.kt)("strong",{parentName:"p"},"parameters are positional")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"command"),(0,l.kt)("td",{parentName:"tr",align:null},"The command that needs to be run")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"directory"),(0,l.kt)("td",{parentName:"tr",align:null},"The directory in which the command has to be executed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"showOutput"),(0,l.kt)("td",{parentName:"tr",align:null},"If the output for that command needs to be displayed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"logFunction"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that takes a value and prints it if the command is successful.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"errorFunction"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that takes a value and prints it if the command is unsuccessful")))),(0,l.kt)("p",null,"Returns a ",(0,l.kt)("inlineCode",{parentName:"p"},"String")," or throws an ",(0,l.kt)("inlineCode",{parentName:"p"},"Error"),"."),(0,l.kt)("p",null,"For ",(0,l.kt)("inlineCode",{parentName:"p"},"logFunction")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"errorFunction"),", please refer to ",(0,l.kt)("strong",{parentName:"p"},"logWithColour")," and ",(0,l.kt)("strong",{parentName:"p"},"errorWithColour"),"."),(0,l.kt)("h3",{id:"colour-box-spinner"},"colour, box, spinner"),(0,l.kt)("p",null,"Please refer to the respective packages for more information. This just directly exports all their functionality without any modifications, so their documentation and community resources ",(0,l.kt)("strong",{parentName:"p"},"will be applicable"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Function"),(0,l.kt)("th",{parentName:"tr",align:null},"Package Link"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"colour"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://npmjs.com/package/chalk"},"chalk"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"box"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://npmjs.com/package/boxen"},"boxen"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spinner"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://npmjs.com/package/ora"},"ora"))))),(0,l.kt)("h3",{id:"logwithcolour-errorwithcolour"},"logWithColour, errorWithColour"),(0,l.kt)("p",null,"This is designed to be used with ",(0,l.kt)("strong",{parentName:"p"},"execute"),", specifically for arguments ",(0,l.kt)("inlineCode",{parentName:"p"},"logFunction")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"errorFunction"),". It takes an argument of a function to run which adds colour, usually ",(0,l.kt)("inlineCode",{parentName:"p"},"app.colour.red")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"app.colour.blue")," or something to that extent. Here's a snippet displaying how you can use this."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'app.execute(\n    "ls .",\n    ".",\n    true,\n    app.logWithColour(app.colour.blue),\n    app.errorWithColour(app.colour.red)\n)\n')))}s.isMDXComponent=!0}}]);